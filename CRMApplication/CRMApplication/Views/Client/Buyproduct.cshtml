@model CRMApplication.Models.Client
<style>
    body {
        background-color: lightblue
    }
</style>

@{
    ViewBag.Title = "Buyproduct";
}

<h2>Buyproduct</h2>
<script src="~/Scripts/jquery-ui-1.8.24.min.js" type="text/javascript">
</script>

<script src="~/Scripts/jquery.unobtrusive-ajax.min.js" type="text/javascript">
</script>
<div>
    <h4>Client</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.ID)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.ID)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.City)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.City)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PhoneNumber)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PhoneNumber)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Address)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Address)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.DOB)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.DOB)
        </dd>

    </dl>
    <form>
        @*<label>CustId</label>*@
        <input type="hidden" readonly="readonly" name="Customer Id" id="CID" value="@Html.DisplayFor(model => model.ID)" />

        <table  class="table table-dark">
            <tr>
                <th>ProductId</th>&#32;
                <th>ProductName</th>&#32;

                <th> Product Cost</th>
            </tr>
            <tr>

                <td><input type="hidden" readonly="readonly" id="Pid" value=" @Html.DisplayFor(model => model.Productid)" /><label>@Html.DisplayFor(model => model.Productid)</label></td>
                <td> @Html.DisplayFor(model => model.ProductName)</td>


                <td> @Html.DisplayFor(model => model.Price)</td>


                <td><input type="button" id="BtnSave" class="btn-danger" value="add" maxlength="4" size="5" onclick="SubmitButton_Clickss()" /></td>

            </tr>
            <tr><td>2
                <input type="hidden" readonly="readonly" id="Pid" value="2" /></td>
                <td> Mask</td>


                <td> @Html.DisplayFor(model => model.Price)</td>
                <td><input type="button" id="BtnSave" value="add" class="btn-danger"  maxlength="4" size="5" onclick="SubmitButton_Clickss()" /></td>
            </tr>

        </table>




        @Html.ActionLink("PREVIEW", "Preview", new { id = @Html.DisplayFor(model => model.ID) }) |

    </form>


</div>


<script>
    function SubmitButton_Clickss() {
        var id = $("#Pid").val();
        var cid = $("#CID").val();
        console.log("hhIddh" + id);
        console.log("Cid" + cid);
        $.ajax({

            url: "/Client/addproduct",
            method: "Post",
            contentType: "application/json; charset=utf-8",
            data: '{"pid":"' + $("#Pid").val() + '","ID":"' + $("#CID").val() + '"}',
            dataType: "html",

            success: function (data) {
                alert("successfully product added");

            }
            , error: function (err) {
                alert("Erro while adding product");
            }
        })
    }

</script>




@Html.ActionLink("Back to List", "ViewData")

